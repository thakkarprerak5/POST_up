{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruv/Downloads/POST_up-main/lib/db.ts"],"sourcesContent":["// lib/db.ts\nimport mongoose from 'mongoose';\n\nconst MONGODB_URI = process.env.MONGODB_URI as string;\n\nif (!MONGODB_URI) {\n  throw new Error('Please define the MONGODB_URI environment variable');\n}\n\ndeclare global {\n  var mongoose: any;\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nexport async function connectDB() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n    };\n\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\n      return mongoose;\n    });\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    cached.promise = null;\n    throw e;\n  }\n\n  return cached.conn;\n}"],"names":[],"mappings":"AAAA,YAAY;;;;;AACZ;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAMA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEO,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,OAAO;QACT;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruv/Downloads/POST_up-main/models/User.ts"],"sourcesContent":["// models/User.ts\nimport mongoose, { Document, Model, Schema } from 'mongoose';\nimport bcrypt from 'bcryptjs';\n\nexport interface IProfile {\n  type: 'student' | 'mentor';\n  joinedDate: Date;\n  bio?: string;\n  enrollmentNo?: string;\n  course?: string;\n  branch?: string;\n  year?: number;\n  skills?: string[];\n  department?: string;\n  expertise?: string[];\n  position?: string;\n  experience?: number;\n  researchAreas?: string[];\n  achievements?: string[];\n  officeHours?: string;\n  projectsSupervised?: Array<{\n    id: number;\n    title: string;\n    image: string;\n    studentName: string;\n  }>;\n  socialLinks?: {\n    github?: string;\n    linkedin?: string;\n    portfolio?: string;\n  };\n  projects?: Array<{\n    id: string;\n    title: string;\n    description?: string;\n    image?: string;\n    url?: string;\n  }>;\n}\n\nexport interface IUser extends Document {\n  fullName: string;\n  email: string;\n  password: string;\n  photo?: string;\n  type: 'student' | 'mentor';\n  profile: IProfile;\n  comparePassword(candidatePassword: string): Promise<boolean>;\n}\n\n// Define profile schema\nconst profileSchema = new Schema<IProfile>({\n  type: { type: String, enum: ['student', 'mentor'], required: true },\n  joinedDate: { type: Date, default: Date.now },\n  bio: { type: String, default: '' },\n  enrollmentNo: { type: String, default: '' },\n  course: { type: String, default: '' },\n  branch: { type: String, default: '' },\n  year: { type: Number, default: 1 },\n  skills: { type: [String], default: [] },\n  department: { type: String, default: '' },\n  expertise: { type: [String], default: [] },\n  position: { type: String, default: '' },\n  experience: { type: Number, default: 0 },\n  researchAreas: { type: [String], default: [] },\n  achievements: { type: [String], default: [] },\n  officeHours: { type: String, default: 'To be scheduled' },\n  projectsSupervised: [{\n    id: { type: Number },\n    title: { type: String },\n    image: { type: String },\n    studentName: { type: String }\n  }],\n  socialLinks: {\n    github: { type: String, default: '' },\n    linkedin: { type: String, default: '' },\n    portfolio: { type: String, default: '' }\n  },\n  projects: [{\n    id: { type: String },\n    title: { type: String },\n    description: { type: String },\n    image: { type: String },\n    url: { type: String }\n  }]\n}, { _id: false });\n\nconst userSchema = new Schema<IUser>({\n  fullName: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  photo: { type: String, default: '/placeholder-user.jpg' },\n  type: { type: String, enum: ['student', 'mentor'], required: true },\n  profile: { type: profileSchema, required: true }\n}, { timestamps: true });\n\n// Hash password before saving\nuserSchema.pre('save', async function() {\n  if (!this.isModified('password')) return;\n\n  const salt = await bcrypt.genSalt(10);\n  this.password = await bcrypt.hash(this.password, salt);\n});\n\n// Method to compare passwords\nuserSchema.methods.comparePassword = async function(candidatePassword: string): Promise<boolean> {\n  return bcrypt.compare(candidatePassword, this.password);\n};\n\n// Create model if it doesn't exist\nconst User = (global as any).User || mongoose.model<IUser>('User', userSchema);\n\n// For development\nif (process.env.NODE_ENV === 'development') {\n  (global as any).User = User;\n}\n\n// Helper functions\nexport const createUser = async (userData: Omit<IUser, keyof Document>) => {\n  const user = new User(userData);\n  return user.save();\n};\n\nexport const findUserByEmail = async (email: string) => {\n  return User.findOne({ email }).exec();\n};\n\nexport const findUserById = async (id: string) => {\n  return User.findById(id).exec();\n};\n\nexport const updateUserProfile = async (\n  id: string,\n  updateData: Partial<IProfile> & { username?: string }\n) => {\n  const set: Record<string, any> = {};\n\n  if (updateData.bio !== undefined) set['profile.bio'] = updateData.bio;\n  if (updateData.enrollmentNo !== undefined) set['profile.enrollmentNo'] = updateData.enrollmentNo;\n  if (updateData.course !== undefined) set['profile.course'] = updateData.course;\n  if (updateData.branch !== undefined) set['profile.branch'] = updateData.branch;\n  if (updateData.year !== undefined) set['profile.year'] = updateData.year;\n  if (updateData.skills !== undefined) set['profile.skills'] = updateData.skills;\n  if (updateData.department !== undefined) set['profile.department'] = updateData.department;\n  if (updateData.expertise !== undefined) set['profile.expertise'] = updateData.expertise;\n  if (updateData.position !== undefined) set['profile.position'] = updateData.position;\n  if (updateData.experience !== undefined) set['profile.experience'] = updateData.experience;\n  if (updateData.researchAreas !== undefined) set['profile.researchAreas'] = updateData.researchAreas;\n  if (updateData.achievements !== undefined) set['profile.achievements'] = updateData.achievements;\n  if (updateData.officeHours !== undefined) set['profile.officeHours'] = updateData.officeHours;\n  if ((updateData as any).socialLinks !== undefined) set['profile.socialLinks'] = (updateData as any).socialLinks;\n  if ((updateData as any).projects !== undefined) set['profile.projects'] = (updateData as any).projects;\n\n  if (updateData.username !== undefined) set['fullName'] = updateData.username;\n\n  return User.findByIdAndUpdate(id, { $set: set }, { new: true }).exec();\n};\n\nexport default User;\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;;;;;AACjB;AACA;;;AAgDA,wBAAwB;AACxB,MAAM,gBAAgB,IAAI,mHAAM,CAAW;IACzC,MAAM;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAW;SAAS;QAAE,UAAU;IAAK;IAClE,YAAY;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;IAC5C,KAAK;QAAE,MAAM;QAAQ,SAAS;IAAG;IACjC,cAAc;QAAE,MAAM;QAAQ,SAAS;IAAG;IAC1C,QAAQ;QAAE,MAAM;QAAQ,SAAS;IAAG;IACpC,QAAQ;QAAE,MAAM;QAAQ,SAAS;IAAG;IACpC,MAAM;QAAE,MAAM;QAAQ,SAAS;IAAE;IACjC,QAAQ;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IACtC,YAAY;QAAE,MAAM;QAAQ,SAAS;IAAG;IACxC,WAAW;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IACzC,UAAU;QAAE,MAAM;QAAQ,SAAS;IAAG;IACtC,YAAY;QAAE,MAAM;QAAQ,SAAS;IAAE;IACvC,eAAe;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IAC7C,cAAc;QAAE,MAAM;YAAC;SAAO;QAAE,SAAS,EAAE;IAAC;IAC5C,aAAa;QAAE,MAAM;QAAQ,SAAS;IAAkB;IACxD,oBAAoB;QAAC;YACnB,IAAI;gBAAE,MAAM;YAAO;YACnB,OAAO;gBAAE,MAAM;YAAO;YACtB,OAAO;gBAAE,MAAM;YAAO;YACtB,aAAa;gBAAE,MAAM;YAAO;QAC9B;KAAE;IACF,aAAa;QACX,QAAQ;YAAE,MAAM;YAAQ,SAAS;QAAG;QACpC,UAAU;YAAE,MAAM;YAAQ,SAAS;QAAG;QACtC,WAAW;YAAE,MAAM;YAAQ,SAAS;QAAG;IACzC;IACA,UAAU;QAAC;YACT,IAAI;gBAAE,MAAM;YAAO;YACnB,OAAO;gBAAE,MAAM;YAAO;YACtB,aAAa;gBAAE,MAAM;YAAO;YAC5B,OAAO;gBAAE,MAAM;YAAO;YACtB,KAAK;gBAAE,MAAM;YAAO;QACtB;KAAE;AACJ,GAAG;IAAE,KAAK;AAAM;AAEhB,MAAM,aAAa,IAAI,mHAAM,CAAQ;IACnC,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,OAAO;QAAE,MAAM;QAAQ,SAAS;IAAwB;IACxD,MAAM;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAW;SAAS;QAAE,UAAU;IAAK;IAClE,SAAS;QAAE,MAAM;QAAe,UAAU;IAAK;AACjD,GAAG;IAAE,YAAY;AAAK;AAEtB,8BAA8B;AAC9B,WAAW,GAAG,CAAC,QAAQ;IACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa;IAElC,MAAM,OAAO,MAAM,8KAAM,CAAC,OAAO,CAAC;IAClC,IAAI,CAAC,QAAQ,GAAG,MAAM,8KAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACnD;AAEA,8BAA8B;AAC9B,WAAW,OAAO,CAAC,eAAe,GAAG,eAAe,iBAAyB;IAC3E,OAAO,8KAAM,CAAC,OAAO,CAAC,mBAAmB,IAAI,CAAC,QAAQ;AACxD;AAEA,mCAAmC;AACnC,MAAM,OAAO,yDAAgB,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAQ,QAAQ;AAEnE,kBAAkB;AAClB,wCAA4C;IAC1C,yDAAgB,IAAI,GAAG;AACzB;AAGO,MAAM,aAAa,OAAO;IAC/B,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,IAAI;AAClB;AAEO,MAAM,kBAAkB,OAAO;IACpC,OAAO,KAAK,OAAO,CAAC;QAAE;IAAM,GAAG,IAAI;AACrC;AAEO,MAAM,eAAe,OAAO;IACjC,OAAO,KAAK,QAAQ,CAAC,IAAI,IAAI;AAC/B;AAEO,MAAM,oBAAoB,OAC/B,IACA;IAEA,MAAM,MAA2B,CAAC;IAElC,IAAI,WAAW,GAAG,KAAK,WAAW,GAAG,CAAC,cAAc,GAAG,WAAW,GAAG;IACrE,IAAI,WAAW,YAAY,KAAK,WAAW,GAAG,CAAC,uBAAuB,GAAG,WAAW,YAAY;IAChG,IAAI,WAAW,MAAM,KAAK,WAAW,GAAG,CAAC,iBAAiB,GAAG,WAAW,MAAM;IAC9E,IAAI,WAAW,MAAM,KAAK,WAAW,GAAG,CAAC,iBAAiB,GAAG,WAAW,MAAM;IAC9E,IAAI,WAAW,IAAI,KAAK,WAAW,GAAG,CAAC,eAAe,GAAG,WAAW,IAAI;IACxE,IAAI,WAAW,MAAM,KAAK,WAAW,GAAG,CAAC,iBAAiB,GAAG,WAAW,MAAM;IAC9E,IAAI,WAAW,UAAU,KAAK,WAAW,GAAG,CAAC,qBAAqB,GAAG,WAAW,UAAU;IAC1F,IAAI,WAAW,SAAS,KAAK,WAAW,GAAG,CAAC,oBAAoB,GAAG,WAAW,SAAS;IACvF,IAAI,WAAW,QAAQ,KAAK,WAAW,GAAG,CAAC,mBAAmB,GAAG,WAAW,QAAQ;IACpF,IAAI,WAAW,UAAU,KAAK,WAAW,GAAG,CAAC,qBAAqB,GAAG,WAAW,UAAU;IAC1F,IAAI,WAAW,aAAa,KAAK,WAAW,GAAG,CAAC,wBAAwB,GAAG,WAAW,aAAa;IACnG,IAAI,WAAW,YAAY,KAAK,WAAW,GAAG,CAAC,uBAAuB,GAAG,WAAW,YAAY;IAChG,IAAI,WAAW,WAAW,KAAK,WAAW,GAAG,CAAC,sBAAsB,GAAG,WAAW,WAAW;IAC7F,IAAI,AAAC,WAAmB,WAAW,KAAK,WAAW,GAAG,CAAC,sBAAsB,GAAG,AAAC,WAAmB,WAAW;IAC/G,IAAI,AAAC,WAAmB,QAAQ,KAAK,WAAW,GAAG,CAAC,mBAAmB,GAAG,AAAC,WAAmB,QAAQ;IAEtG,IAAI,WAAW,QAAQ,KAAK,WAAW,GAAG,CAAC,WAAW,GAAG,WAAW,QAAQ;IAE5E,OAAO,KAAK,iBAAiB,CAAC,IAAI;QAAE,MAAM;IAAI,GAAG;QAAE,KAAK;IAAK,GAAG,IAAI;AACtE;uCAEe"}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruv/Downloads/POST_up-main/app/api/mentors/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { connectDB } from '@/lib/db';\nimport { findUserByEmail } from '@/models/User';\nimport User from '@/models/User';\n\nexport async function GET() {\n  await connectDB();\n  const mentors = await (User as any).find({ type: 'mentor' }).select('-password').exec();\n  return NextResponse.json(mentors);\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;;;;AAEO,eAAe;IACpB,MAAM,IAAA,wJAAS;IACf,MAAM,UAAU,MAAM,AAAC,2JAAI,CAAS,IAAI,CAAC;QAAE,MAAM;IAAS,GAAG,MAAM,CAAC,aAAa,IAAI;IACrF,OAAO,gLAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}